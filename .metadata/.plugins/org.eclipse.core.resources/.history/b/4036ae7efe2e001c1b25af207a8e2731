package com.pmg.pnn;

import static org.junit.Assert.assertEquals;

import java.text.SimpleDateFormat;
import java.util.Calendar;

import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.test.context.ContextConfiguration;
import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;

import com.pmg.domain.ExpenVO;
import com.pmg.domain.IncomeVO;
import com.pmg.service.ExpenService;

@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration("file:src/main/webapp/WEB-INF/spring/root-context.xml")
public class ExpenditureMapperTest {
	
	@Autowired
	private ExpenService service;
	
	ExpenVO expen = new ExpenVO();
	
	// 지출일지 등록
	@Test
	public void expenRegister() throws Exception{

		expen.setExpenNote("노트 6개");
		expen.setExpenPrice(2000);
		expen.setExpenDate("2021-10-17");
		
		service.expenRegister(expen);
		
	}
	// 지출일지 조회 [월별] 1~ 12월 합
	
	// 지출일지 조회[메인화면] ex) 2021년 10월 1일~ 30일[총계만]
	
	
	// 지출일지 조회 [일별조회] ex) 2021년 10월 1일 목록조회
	
	// 지출일지 일별 수정
	
	// 지출일지 삭제
	
	
	
	// 1년치 데이터 추가.
		@Test
		public void aa() throws Exception{
			
			SimpleDateFormat dateFormat;
	        //dateFormat = new SimpleDateFormat("yyyyMM"); //년월 표시 
	        dateFormat = new SimpleDateFormat("yyyy-MM-dd"); //년월일 표시
	        
	        Calendar cal = Calendar.getInstance();
	        
	        
	        cal.set ( 2023, 1-1, 1 ); //종료 날짜 셋팅
	        String endDate = dateFormat.format(cal.getTime());
	        
	        cal.set ( 2020, 1-1, 1 ); //시작 날짜 셋팅
	        String startDate = dateFormat.format(cal.getTime());    
	        
	        int i = 0;
	        while(!startDate.equals(endDate)){ //다르다면 실행, 동일 하다면 빠져나감
	            
	            if(i==0) { //최초 실행 출력
	                System.out.println(dateFormat.format(cal.getTime()));
	            }
	            
	            //cal.add(Calendar.MONTH, 1); //1달 더해줌
	            cal.add(Calendar.DATE, 1); //1일 더해줌
	            startDate = dateFormat.format(cal.getTime()); //비교를 위한 값 셋팅
	            

	            if((i % 9) == 1) {
		            //+1달 출력
		            System.out.println(dateFormat.format(cal.getTime()));  
		            
		        	IncomeVO income = new IncomeVO();

		    		
		    		for( int j =1  ; j <=10;j++) {
		    			int ran = (int) (Math.random() * 10 + 1);
		    			

		    			if(ran != j) {
			    			int random, random2 ;
			    			
			    			random = (int) (Math.random() * 5 + 1);
			    			random2 = (int) (Math.random() * 3 + 1);
		

//			    			income.setClassName_id(j);
//			    			income.setReserveType_id(random);
//			    			income.setRoomPrice(1000);
//			    			income.setRoomType_id(random2);
//			    			income.setBbqPrice(1000);
//			    			income.setBbqType_id(random2);
//			    			income.setExtraPeoplePrice(1000);
//			    			income.setExtraPeopleType_id(random2);
//			    			income.setTotalPrice(3000);
//			    			income.setNote("-");
//			    			income.setGuestName(i+"이랑"+j);
//			    			income.setIncomeDate(dateFormat.format(cal.getTime()));

			    			service.expenRegister(expen);

		    			}

		    			
		    		}
	            }
	            i++;
	        }
		}
		
	
//	// ID, PASSWORD 조회 (로그인)
//	@Test
//	public void loginUserRead() throws Exception{
//		
//		user.setUserId("1234@naver.com");
//		user.setUserPassword("12341234");
//		
//		service.loginUserRead(user);
//		
//	}
//	
//	// 회원가입 (정보입력)
//	@Test
//	public void userRegister() throws Exception{
//
//		
//		user.setGrade_id(2);
//		user.setUserId("aaa2a22@naver.com");
//		user.setUserPassword("2222");
//		user.setUserName("박박박");
//		user.setUserPhonNumber("01012351235");
//		user.setUserBirthday("19930101");
//		
//		service.userRegister(user);
//		
//	}
//	
//	// id 중복 검사
//	@Test
//	public void userIdOverlap() throws Exception{
//
//		// 값이 없을때
//		String UserId = "aaadda@naver.com";
//		
//		// 값이 있을때
//		String UserId2 = "2222@naver.com";
//		
//		 
//		assertEquals(UserId2, service.userIdRead(UserId2).getUserId());
//		
//	}
//	
//	// id 찾기 검사
//	@Test
//	public void userIdFind() throws Exception{
//
//		user.setUserName("박박박");
//		user.setUserPhonNumber("01012351235");
//		user.setUserBirthday("19930101");
//		
//		service.userIdFind(user);
//		
//		//System.out.println(service.userIdFind(user));
//		
////		int count = 0;
////		for(UserVO str : service.userIdFind(user)){
////		    System.out.println(count + "번째 id는: " + str.getUserId());
////		    count++;
////		}
//		
//
//	}
//	
//	// password 찾기 [회원정보 조회]
//	@Test
//	public void userPwFind() throws Exception{
//
//		user.setUserId("aaaa22@naver.com");
//		user.setUserName("박박박");
//		user.setUserPhonNumber("01012351235");
//		user.setUserBirthday("19930101");
//		
//		service.userPwFind(user);
//		
//		System.out.println(service.userPwFind(user).getId());
//
//	}
//	
//	// password 찾기, 변경
//	@Test
//	public void userPwUpdate() throws Exception{
//
//		user.setId(15);
//		user.setUserPassword("7777");
//		
//		service.userPwUpdate(user);
//
//	}
//	
//	// 개인정보 조회 [아이디, 이름, 휴대폰번호, 생일]
//		@Test
//		public void userInfoRead() throws Exception{
//
//			int Id = 15;
//			
//			service.userInfoRead(Id);
//			
//		}
//	
//	// 개인정보 변경[ 개인정보 창(이름, 휴대폰번호, 생일) ]
//		@Test
//		public void userInfoUpdate() throws Exception{
//
//			user.setId(15);
//			user.setUserName("이이이");
//			user.setUserPhonNumber("01011112222");
//			user.setUserBirthday("19990909");
//
//			service.userInfoUpdate(user);
//
//		}
//		
//	// 계정 조회
//		@Test
//		public void userIdListRead() throws Exception{
//
//			service.userIdListRead();
//			
////			int count = 0;
////			for(UserVO str : service.userIdListRead()){
////			    System.out.println(count + "번째 id는: " + str.getUserId());
////			    count++;
////			}
////
//		}
//		
//		
//	// 계정 등급 조정
//		@Test
//		public void userGradeInsert() throws Exception{
//
//			user.setId(15);
//			user.setGrade_id(3);
//			
//			service.userGradeInsert(user);
//
//		}
	
}
